# АИС Страховой компании ОСАГО

## Описание проекта

Данный проект представляет собой автоматизированную информационную систему (АИС) для страховой компании, специализирующуюся на оформлении и управлении полисами обязательного страхования автогражданской ответственности (ОСАГО). Система разработана с использованием Python и фреймворка Flask с интерфейсом на PyWebIO.

## Основные функциональности

- **Управление клиентами**:
  - Добавление новых клиентов с валидацией персональных данных
  - Просмотр и редактирование информации о клиентах
  - Поиск клиентов по различным параметрам

- **Управление транспортными средствами**:
  - Добавление информации о транспортных средствах
  - Привязка ТС к клиентам
  - Валидация VIN-кода и государственного номера

- **Управление полисами ОСАГО**:
  - Оформление новых полисов
  - Продление существующих полисов
  - Отслеживание сроков действия полисов
  - Расчет стоимости страховки по различным параметрам

- **Аналитика и отчетность**:
  - Генерация статистических отчетов
  - Построение графиков и диаграмм
  - Экспорт данных в различные форматы (CSV, PDF)

- **Система уведомлений**:
  - Оповещение о полисах с истекающим сроком действия
  - HTML-шаблоны для уведомлений по электронной почте

## Технический стек

### Основные технологии
- **Python** - основной язык программирования
- **Flask** - веб-фреймворк для создания приложения
- **PyWebIO** - библиотека для создания интерактивного веб-интерфейса
- **SQLAlchemy** - ORM для работы с базой данных
- **SQLite** - СУБД для хранения данных

### Библиотеки для работы с данными и отчетностью
- **FPDF2** - генерация PDF-документов
- **Pandas** - обработка и анализ данных
- **Matplotlib** - визуализация данных

### Система аутентификации
- Поддержка ролевой модели (администратор, агент)
- Хеширование паролей для безопасного хранения

## Архитектура приложения

### Модели данных
- **User** - информация о пользователях системы
- **Client** - данные клиентов страховой компании
- **Vehicle** - информация о транспортных средствах
- **Policy** - данные о страховых полисах

### Компоненты системы
- **Основное приложение** (`app.py`) - содержит логику бизнес-процессов и интерфейса
- **Модели данных** (`models.py`) - описание структуры базы данных
- **Файловое хранилище** (`file_storage.py`) - управление файлами, генерируемыми системой
- **Генерация тестовых данных** (`generate_test_data.py`) - скрипт для заполнения БД тестовыми данными
- **Работа с PDF** (`update_pdf.py`) - функциональность для создания PDF-документов

## Дополнительные возможности

- **Хранение файлов** - система для регистрации и управления генерируемыми документами
- **Валидация данных** - проверка корректности ввода персональных и автомобильных данных
- **Многопоточность** - поддержка параллельных сессий пользователей
- **Экспорт данных** - выгрузка информации в различные форматы для дальнейшего анализа

## Структура проекта

```
app.py                      # Основное приложение Flask
file_storage.py             # Модуль управления файлами
generate_test_data.py       # Скрипт для генерации тестовых данных
models.py                   # Модели данных SQLAlchemy
requirements.txt            # Зависимости проекта
test_app.py                 # Тесты для основного приложения
test_file_download.py       # Тесты для загрузки файлов
test_pdf_cyrillic.py        # Тесты для проверки кириллицы в PDF
update_db.py                # Скрипт обновления базы данных
update_pdf.py               # Утилита для обновления PDF функциональности
fonts/
  arial.ttf                 # Шрифт для корректного отображения кириллицы в PDF
instance/
  osago.db                  # База данных SQLite
static/
  files/                    # Директория для экспортируемых файлов
templates/
  notification_template.html # Шаблон для HTML-уведомлений
```

## Начало работы

### Требования
- Python 3.8 или выше
- Установленные зависимости из requirements.txt

### Установка
1. Клонируйте репозиторий
2. Установите зависимости:
```
pip install -r requirements.txt
```
3. Запустите приложение:
```
python app.py
```

### Тестовые учетные данные
- Имя пользователя: admin
- Пароль: admin

## Текущее состояние (14 мая 2025 г.)
- Система полностью функциональна
- В базе данных содержатся тестовые данные клиентов и полисов
- Сгенерированы отчеты за текущий период

---

*Проект разработан в рамках курсовой работы для демонстрации возможностей автоматизации бизнес-процессов страховой компании.*
